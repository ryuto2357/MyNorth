<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Obsidian Graph Sandbox</title>
    <style>
        body { margin: 0; font-family: sans-serif; overflow: hidden; display: flex; height: 100vh; }
        
        /* The Graph Container */
        #graph-container { flex: 3; background: #0b0b0b; }

        /* The Sidebar */
        #sidebar {
            flex: 1;
            background: #202020;
            color: #ccc;
            padding: 20px;
            border-left: 1px solid #444;
            display: flex;
            flex-direction: column;
            box-shadow: -5px 0 15px rgba(0,0,0,0.5);
        }

        /* UI Elements */
        input, textarea {
            background: #333; border: 1px solid #555; color: white;
            width: 100%; padding: 8px; margin-bottom: 10px;
            box-sizing: border-box;
        }
        button {
            background: #7b68ee; color: white; border: none; padding: 10px;
            cursor: pointer; width: 100%; font-weight: bold;
        }
        button:hover { background: #6a5acd; }
        h2 { margin-top: 0; color: #fff; }
    </style>
</head>
<body>

    <div id="graph-container"></div>

    <div id="sidebar">
        <div id="node-details" style="display:none;">
            <h2 id="detail-label"></h2>
            <small id="detail-id"></small>
            <hr style="border-color: #444;">
            <p><strong>Content:</strong></p>
            <textarea id="detail-content" rows="10"></textarea>
            <button id="btn-close">Close Note</button>
        </div>

        <div id="create-section">
            <h2>Add New Node</h2>
            <input type="text" id="new-label" placeholder="Note Title">
            <textarea id="new-content" placeholder="Note Content..." rows="3"></textarea>
            <button onclick="createNode()">Create Node</button>
        </div>
    </div>

    <script src="//cdn.jsdelivr.net/npm/force-graph@1.43.0/dist/force-graph.js"></script>
    <script type="importmap">
    {
        "imports": {
        "force-graph": "../node_modules/force-graph/dist/force-graph.mjs",
        "d3-selection": "https://cdn.jsdelivr.net",
        "d3-zoom": "https://cdn.jsdelivr.net",
        "d3-drag": "https://cdn.jsdelivr.net",
        "d3-array": "https://cdn.jsdelivr.net",
        "lodash-es": "https://cdn.jsdelivr.net",
        "@tweenjs/tween.js": "https://cdn.jsdelivr.net",
        "kapsule": "https://cdn.jsdelivr.net",
        "accessor-fn": "https://cdn.jsdelivr.net",
        "canvas-color-tracker": "https://cdn.jsdelivr.net",
        "float-tooltip": "https://cdn.jsdelivr.net",
        "d3-force-3d": "https://cdn.jsdelivr.net",
        "bezier-js": "https://cdn.jsdelivr.net",
        "index-array-by": "https://cdn.jsdelivr.net",
        "d3-scale": "https://cdn.jsdelivr.net",
        "d3-scale-chromatic": "https://cdn.jsdelivr.net"
        }
    }
    </script>
    <script type="module" src="../src/constellation.js"></script>
</body>
</html>